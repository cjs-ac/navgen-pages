<!DOCTYPE html>
<html>
  <head>
    <title>navgen</title>
    <style>
      :root {
        --base03    :#002b36;
        --base02    :#073642;
        --base01    :#586e75;
        --base00    :#657b83;
        --base0     :#839496;
        --base1     :#93a1a1;
        --base2     :#eee8d5;
        --base3     :#fdf6e3;
        --yellow    :#b58900;
        --orange    :#cb4b16;
        --red       :#dc322f;
        --magenta   :#d33682;
        --violet    :#6c71c4;
        --blue      :#268bd2;
        --cyan      :#2aa198;
        --green     :#859900;
      }
      body {
        color: var(--base00);
        background-color: var(--base3);
      }
      label {
        display: block;
      }
      :invalid {
        background-color: var(--red);
      }
    </style>
    <script>
      var noPoints = 2;
      function getBearingNaturalRadians(point1, point2) {
        var x1, y1, x2, y2;
        x1 = parseInt(point1.substr(0, 5), 10);
        y1 = parseInt(point1.substr(4, 5), 10);
        x2 = parseInt(point2.substr(0, 5), 10);
        y2 = parseInt(point2.substr(4, 5), 10);
        return Math.atan2(y2 - y1, x2 - x1);
      }
      function getDistance(point1, point2) {
        var x1, y1, x2, y2;
        x1 = parseInt(point1.substr(0, 5), 10);
        y1 = parseInt(point1.substr(4, 5), 10);
        x2 = parseInt(point2.substr(0, 5), 10);
        y2 = parseInt(point2.substr(4, 5), 10);
        return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
      }
      function getBearingInDegrees(bearing) {
        return -(bearing * 360 / Math.PI) + 90;
      }
      function getBearingInMils(bearing) {
        return -(bearing * 6400 / Math.PI) + 1600;
      }
      function addPoint() {
        numberOfPoints++;
        var newLabel = document.createElement("label");
        var newInput = document.createElement("input");
        newLabel.setAttribute("for", "inputPoint" + numberOfPoints);
        newLabel.setAttribute("id", "inputPoint" + numberOfPoints + "Label");
        newLabel.setAttribute("class", "PointLabel");
        newLabel.appendChild(document.createTextNode("Point " + numberOfPoints));
        newInput.setAttribute("type", "text");
        newInput.setAttribute("id", "inputPoint" + numberOfPoints);
        newInput.setAttribute("class", "PointInput");
        newInput.setAttribute("pattern", "[0-9]{10}");
        document.getElementById("divPoints").appendChild(newLabel);
        document.getElementById("divPoints").appendChild(newInput);
      }
      function removePoint() {
        if (numberOfPoints > 2) {
          var Label = document.getElementById("inputPoint" + numberOfPoints + "Label");
          var Input = document.getElementById("inputPoint" + numberOfPoints);
          Label.parentNode.removeChild(Label);
          Input.parentNode.removeChild(Input);
          numberOfPoints--;
        }
      }
    </script>
  </head>
  <body>
    <h1>navgen</h1>
    <label for="useMils">
      <input type="checkbox" id="useMils" />
      Use Mils instead of Degrees
    </label>
    <label for="magDeviation">Magnetic Deviation (degrees or mils)</label>
    <input type="number" id="magDeviation" />
    <div>
      <button onclick="addPoint()">Add Point</button>
      <button onclick="removePoint()">Remove Point</button>
    </div>
    <div id="divPoints">
      <label for="inputPoint1" id="inputPoint1Label" class="PointLabel">Point 1</label>
      <input type="text" id="inputPoint1" class="PointInput" pattern="[0-9]{10}" />
      <label for="inputPoint2" id="inputPoint2Label" class="PointLabel">Point 2</label>
      <input type="text" id="inputPoint2" class="PointInput" pattern="[0-9]{10}" />
    </div>
    <button>Calculate</button>
  </body>
  <script>
    var numberOfPoints = 2;
    document.getElementById('magDeviation').value = 13;
  </script>
</html>
